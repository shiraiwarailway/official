<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>運行状況詳細｜株式会社サンプル</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* =========================================
           CSS設定 (基本デザイン)
           ========================================= */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        html { font-size: 100%; transition: font-size 0.3s; scroll-behavior: smooth; }
        html.font-small { font-size: 85%; }
        html.font-large { font-size: 125%; }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.6;
            color: #333;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-top: 120px;
            background-color: #f9f9f9;
        }

        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        /* --- 1. 運行状況バー --- */
        #status-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 40px;
            z-index: 1100; display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: #fff; transition: background-color 0.3s;
            padding: 0 20px; font-size: 0.9rem;
        }
        .status-loading { background-color: #95a5a6; }
        .status-normal   { background-color: #27ae60; }
        .status-delay    { background-color: #f39c12; }
        .status-disorder { background-color: #8e44ad; }
        .status-alert    { background-color: #e74c3c; animation: flash 2s infinite; }
        .status-stopped  { background-color: #7f8c8d; }

        @keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }

        /* --- 2. ヘッダー & ナビゲーション --- */
        .header {
            background-color: #ffffff; height: 80px; position: fixed; top: 40px; left: 0; width: 100%;
            z-index: 1000; display: flex; align-items: center; justify-content: space-between;
            padding: 0 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .brand-wrapper { display: flex; align-items: center; flex-shrink: 0; }
        .logo-img { width: 50px; height: 50px; object-fit: cover; border-radius: 6px; margin-right: 12px; background-color: #eee; }
        .brand-text { display: flex; flex-direction: column; justify-content: center; line-height: 1.2; }
        .group-name { font-size: 0.7rem; color: #888; margin-bottom: 2px; }
        .company-name { font-size: 1.125rem; font-weight: bold; color: #2c3e50; }

        .header-right { display: flex; align-items: center; gap: 20px; }

        .font-control-panel {
            display: flex; align-items: center; background-color: #f0f2f5;
            padding: 3px; border-radius: 20px; border: 1px solid #ddd;
        }
        .font-label { font-size: 0.75rem; color: #666; margin: 0 8px; font-weight: bold; }
        .font-btn {
            background: none; border: none; padding: 5px 10px; font-size: 0.85rem;
            cursor: pointer; border-radius: 15px; color: #555; transition: all 0.2s;
        }
        .font-btn:hover { background-color: rgba(0,0,0,0.05); }
        .font-btn.active { background-color: #3498db; color: #fff; font-weight: bold; }

        .nav-menu { display: flex; align-items: center; }
        .nav-item { margin-left: 15px; position: relative; }
        .nav-link {
            font-size: 0.95rem; font-weight: 600; color: #444; padding: 10px 5px;
            display: block; transition: color 0.3s; white-space: nowrap;
        }
        .nav-link::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 0%; height: 2px;
            background-color: #3498db; transition: width 0.3s ease;
        }
        .nav-link:hover { color: #3498db; }
        .nav-link:hover::after { width: 100%; }

        .dropdown-menu {
            position: absolute; top: 100%; left: -10px; background-color: #fff;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); min-width: 200px; border-radius: 8px;
            z-index: 1000; padding: 10px 0; opacity: 0; visibility: hidden;
            transform: translateY(15px); transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .nav-item.dropdown:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .dropdown-item a { display: block; padding: 12px 20px; font-size: 0.9rem; color: #555; transition: background 0.2s, padding-left 0.2s; }
        .dropdown-item a:hover { background-color: #f8f9fa; color: #3498db; padding-left: 25px; }

        .hamburger { display: none; cursor: pointer; z-index: 1001; }
        .bar { display: block; width: 25px; height: 2px; margin: 6px auto; background-color: #333; transition: all 0.3s ease-in-out; }

        /* --- 3. メインコンテンツ --- */
        .main-content { flex: 1; padding: 40px 20px; max-width: 1200px; margin: 0 auto; width: 100%; }
        
        .page-title {
            text-align: center; margin-bottom: 30px; font-size: 1.8rem;
            color: #2c3e50; border-bottom: 2px solid #ddd; padding-bottom: 15px;
        }

        /* 運行情報カード */
        .status-card {
            background: #fff; border-radius: 12px; padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08); margin-bottom: 40px;
            border-left: 10px solid #ccc; transition: border-color 0.3s;
        }
        .status-card h2 { margin-bottom: 15px; font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }
        .status-card p { font-size: 1.1rem; margin-bottom: 10px; }
        .timestamp { font-size: 0.85rem; color: #888; text-align: right; margin-top: 10px; }

        .card-normal   { border-left-color: #27ae60; }
        .card-delay    { border-left-color: #f39c12; }
        .card-disorder { border-left-color: #8e44ad; }
        .card-alert    { border-left-color: #e74c3c; }
        .card-stopped  { border-left-color: #7f8c8d; }

        /* =========================================
           路線図再現CSS (拡大・高視認性版)
           ========================================= */
        .route-map-section {
            background: #fff; padding: 40px 20px; border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        .route-map-section h3 {
            margin-bottom: 20px; border-left: 6px solid #3498db;
            padding-left: 15px; font-size: 1.5rem; color: #2c3e50;
        }

        .route-map-wrapper {
            overflow-x: auto;
            padding-bottom: 30px;
            scrollbar-width: thin;
            scrollbar-color: #ccc #f0f0f0;
        }

        .map-canvas {
            position: relative;
            /* サイズを拡大 */
            min-width: 1100px; 
            height: 350px;
            margin: 0 auto;
            user-select: none;
        }

        /* --- 線（Line）のスタイル --- */
        .line-segment {
            position: absolute;
            height: 10px; /* 線を太く */
            border-radius: 5px;
            transform-origin: left center;
            z-index: 1;
        }
        
        .line-red { background-color: #e74c3c; }
        .line-green { background-color: #92d050; }

        /* 【座標計算: 拡大版】 */
        .line-main-horizontal {
            top: 245px; 
            left: 80px;
            width: 900px;
        }

        .line-branch-diagonal {
            top: 245px;
            left: 480px;
            width: 235px;
            transform: rotate(-40deg);
        }

        .line-branch-horizontal {
            top: 95px;
            left: 658px;
            width: 330px;
        }

        /* 路線名ラベル (大きく) */
        .line-name-label {
            position: absolute;
            font-size: 0.9rem; font-weight: bold; color: #555;
            background-color: #fff; padding: 0 6px; z-index: 2;
            border-radius: 4px;
        }
        .lbl-main { top: 238px; left: 560px; color: #e74c3c; }
        .lbl-branch { top: 88px; left: 740px; color: #7cb342; }


        /* --- 駅（Station）のスタイル --- */
        .station-point {
            position: absolute;
            z-index: 5;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 36px;
        }

        .dot {
            width: 36px; height: 36px; 
            background-color: #fff;
            border: 3px solid #333; 
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.15);
            transition: transform 0.2s;
            flex-shrink: 0;
        }
        .station-point:hover .dot {
            transform: scale(1.15); border-color: #000; background-color: #f0f8ff;
        }

        .s-name {
            white-space: nowrap;
            font-size: 1.3rem; 
            font-weight: 500;
            color: #222;
            font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
            position: absolute;
            left: 50%; transform: translateX(-50%);
        }

        /* 文字位置調整 */
        .station-bottom .s-name { top: 42px; }
        .station-top .s-name { bottom: 42px; }

        /* --- 各駅の配置 --- */
        .st-ryokuguchi { top: 232px; left: 80px; }
        .st-yaegaki { top: 232px; left: 280px; }
        .st-kaimoncho { top: 232px; left: 480px; }
        .st-oiwashinden { top: 232px; left: 750px; }
        .st-oiwa { top: 232px; left: 950px; }
        .st-kaimonguchi { top: 82px; left: 660px; }
        .st-kajiyamachi { top: 82px; left: 950px; }


        /* --- 4. フッター --- */
        .footer { background-color: #2c3e50; color: #fff; padding: 50px 20px 20px; margin-top: auto; }
        .footer-container { max-width: 1000px; margin: 0 auto; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 40px; }
        .footer-section h3 { font-size: 1.125rem; margin-bottom: 20px; position: relative; padding-bottom: 10px; }
        .footer-section h3::after { content: ''; position: absolute; left: 0; bottom: 0; width: 40px; height: 2px; background-color: #3498db; }
        .footer-links li { margin-bottom: 12px; }
        .footer-links a { color: #bdc3c7; transition: color 0.3s; }
        .footer-links a:hover { color: #fff; text-decoration: underline; }
        .footer-bottom {
            text-align: center; margin-top: 50px; padding-top: 20px; border-top: 1px solid #3e5871;
            font-size: 0.75rem; color: #8fa0b3; display: flex; flex-direction: column; gap: 10px;
        }

        /* --- 5. 固定ボタン --- */
        #back-to-top {
            position: fixed; bottom: 30px; right: 30px;
            background-color: #3498db; color: #fff; width: 50px; height: 50px;
            border-radius: 50%; text-align: center; line-height: 50px; font-size: 1.2rem;
            z-index: 1500; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
            opacity: 0; visibility: hidden; transform: translateY(20px); transition: all 0.3s ease;
        }
        #back-to-top.show { opacity: 1; visibility: visible; transform: translateY(0); }
        #back-to-top:hover { background-color: #2980b9; transform: translateY(-5px); }

        #detail-btn {
            position: fixed; bottom: 30px; left: 30px;
            background-color: #2c3e50; color: #fff; 
            padding: 0 20px; height: 50px; display: flex; align-items: center; justify-content: center; gap: 10px;
            border-radius: 25px; z-index: 1500; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-weight: bold; font-size: 0.95rem; transition: all 0.3s ease;
        }
        #detail-btn:hover { background-color: #34495e; transform: translateY(-5px); }

        /* --- 6. レスポンシブ対応 --- */
        @media (max-width: 1050px) {
            .header { padding: 0 15px; height: 70px; top: 40px; }
            body { padding-top: 110px; }
            .header-right { gap: 10px; }
            .font-label { display: none; }
            .font-control-panel { padding: 2px; }
            .hamburger { display: block; }
            
            .nav-menu {
                position: fixed; left: 0; top: 110px; background-color: #fff; width: 100%; height: 0;
                overflow-y: auto; flex-direction: column; align-items: center;
                transition: height 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
                box-shadow: 0 10px 20px rgba(0,0,0,0.05); display: flex; z-index: 998;
            }
            .nav-menu.active { height: calc(100vh - 110px); padding-top: 20px; padding-bottom: 100px; }
            .nav-item { margin: 0; width: 100%; text-align: center; opacity: 0; transform: translateY(20px); transition: all 0.4s; }
            .nav-menu.active .nav-item { opacity: 1; transform: translateY(0); }
            .nav-link { padding: 15px; font-size: 1rem; border-bottom: 1px solid #f0f0f0; }
            .nav-link::after { display: none; }
            .dropdown-menu { position: static; display: none; width: 100%; opacity: 1; visibility: visible; transform: none; box-shadow: none; background-color: #fafafa; padding: 0; }
            .nav-item.dropdown:hover .dropdown-menu { display: block; animation: fadeIn 0.3s; }
            @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
            
            .hamburger.active .bar:nth-child(2) { opacity: 0; }
            .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
            .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
            .footer-container { flex-direction: column; gap: 30px; }

            #back-to-top { bottom: 20px; right: 20px; width: 45px; height: 45px; line-height: 45px; }
            #detail-btn { bottom: 20px; left: 20px; height: 45px; font-size: 0.85rem; padding: 0 15px; }
        }
    </style>
</head>
<body>

    <div id="status-bar" class="status-loading">
        <i class="fa-solid fa-spinner fa-spin" style="margin-right: 8px;"></i>
        <span id="status-text">情報を取得中...</span>
    </div>

    <header class="header">
        <a href="#" class="brand-wrapper">
            <img src="https://placehold.jp/150x150.png" alt="会社ロゴ" class="logo-img">
            <div class="brand-text">
                <span class="group-name">Global Group</span>
                <span class="company-name">株式会社サンプル</span>
            </div>
        </a>

        <div class="header-right">
            <div class="font-control-panel">
                <span class="font-label">サイズ</span>
                <button class="font-btn" onclick="setFontSize('small')" id="btn-small">小</button>
                <button class="font-btn" onclick="setFontSize('medium')" id="btn-medium">中</button>
                <button class="font-btn" onclick="setFontSize('large')" id="btn-large">大</button>
            </div>
            <div class="hamburger">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="#" class="nav-link">ホーム</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">ニュース</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">路線図</a></li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link">サービス <i class="fa-solid fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item"><a href="#">Webサイト制作</a></li>
                            <li class="dropdown-item"><a href="#">システム開発</a></li>
                            <li class="dropdown-item"><a href="#">マーケティング支援</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a href="#" class="nav-link">会社概要</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">求人</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">お問い合わせ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <h1 class="page-title">運行情報詳細</h1>
        
        <section id="status-card" class="status-card">
            <h2 id="card-title"><i class="fa-solid fa-spinner fa-spin"></i> 情報を取得しています...</h2>
            <p id="card-msg">現在、最新の運行情報を確認しています。</p>
            <div class="timestamp">更新日時: <span id="update-time">--/-- --:--</span></div>
        </section>

        <section class="route-map-section">
            <h3>対象路線図</h3>
            <p style="text-align: left; margin-bottom: 20px; font-size: 0.9rem; color: #666;">
                本線（赤色）および支線（黄緑色）の運行状況を表示しています。
            </p>
            
            <div class="route-map-wrapper">
                <div class="map-canvas">
                    
                    <div class="line-segment line-red line-main-horizontal"></div>
                    <div class="line-name-label lbl-main">緑宮線</div>

                    <div class="line-segment line-green line-branch-diagonal"></div>
                    
                    <div class="line-segment line-green line-branch-horizontal"></div>
                    <div class="line-name-label lbl-branch">鍛冶屋町線</div>


                    <div class="station-point station-bottom st-ryokuguchi">
                        <div class="dot"></div>
                        <span class="s-name">緑宮口</span>
                    </div>

                    <div class="station-point station-bottom st-yaegaki">
                        <div class="dot"></div>
                        <span class="s-name">八重垣</span>
                    </div>

                    <div class="station-point station-bottom st-kaimoncho">
                        <div class="dot"></div>
                        <span class="s-name">櫂門町</span>
                    </div>

                    <div class="station-point station-bottom st-oiwashinden">
                        <div class="dot"></div>
                        <span class="s-name">大岩新田</span>
                    </div>

                    <div class="station-point station-bottom st-oiwa">
                        <div class="dot"></div>
                        <span class="s-name">大岩</span>
                    </div>

                    <div class="station-point station-top st-kaimonguchi">
                        <div class="dot"></div>
                        <span class="s-name">櫂門口</span>
                    </div>

                    <div class="station-point station-top st-kajiyamachi">
                        <div class="dot"></div>
                        <span class="s-name">鍛冶屋町</span>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>株式会社サンプル</h3>
                <p>〒100-0000<br>東京都千代田区〇〇 1-2-3</p>
            </div>
            <div class="footer-section">
                <h3>メニュー</h3>
                <ul class="footer-links">
                    <li><a href="#">ホーム</a></li>
                    <li><a href="#">ニュース</a></li>
                    <li><a href="#">路線図</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>その他</h3>
                <ul class="footer-links">
                    <li><a href="#">プライバシーポリシー</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <span>&copy; 2024 Sample Company Co., Ltd.</span>
        </div>
    </footer>

    <a href="#" id="detail-btn">
        <i class="fa-solid fa-rotate-right"></i> 情報更新
    </a>

    <a href="#" id="back-to-top" title="トップへ戻る">
        <i class="fa-solid fa-arrow-up"></i>
    </a>

    <script>
        // ==========================================
        //  A. スプレッドシート連携機能
        // ==========================================
        // ★ご自身のGAS URLをここに入れてください
        const SHEET_API_URL = "https://script.google.com/macros/s/AKfycbwnOtC0MEt216M2c0PpTP9hg0vWux1_NLDlpFn8B9Y792dcMfwIX3Dv-2c9MCcdixHHmQ/exec"; 

        const statusBar = document.getElementById('status-bar');
        const statusText = document.getElementById('status-text');
        const statusIcon = statusBar.querySelector('i');

        const statusCard = document.getElementById('status-card');
        const cardTitle = document.getElementById('card-title');
        const cardMsg = document.getElementById('card-msg');
        const updateTimeSpan = document.getElementById('update-time');

        async function fetchTrainStatus() {
            if (!SHEET_API_URL) return;

            const now = new Date();
            const timeStr = now.getFullYear() + "/" + (now.getMonth()+1) + "/" + now.getDate() + " " + now.getHours() + ":" + String(now.getMinutes()).padStart(2, '0');
            updateTimeSpan.textContent = timeStr;

            try {
                const response = await fetch(SHEET_API_URL);
                if (!response.ok) throw new Error("NetWork Error");
                const data = await response.json(); 
                updateStatusDisplay(data.status);

            } catch (error) {
                console.error("Fetch Error:", error);
                statusText.textContent = "情報の取得に失敗";
                statusIcon.className = "fa-solid fa-circle-exclamation";
                cardTitle.innerHTML = '<i class="fa-solid fa-circle-exclamation" style="color:#e74c3c;"></i> 情報取得エラー';
                cardMsg.textContent = "現在、運行情報を取得できません。時間をおいて再読み込みしてください。";
            }
        }

        function updateStatusDisplay(statusValue) {
            statusBar.className = ''; 
            statusCard.className = 'status-card';
            
            const cleanStatus = statusValue ? String(statusValue).trim() : "";

            if (cleanStatus === 'alert') {
                statusBar.classList.add('status-alert');
                statusText.textContent = "運転見合わせ";
                statusIcon.className = "fa-solid fa-triangle-exclamation";
                statusCard.classList.add('card-alert');
                cardTitle.innerHTML = '<i class="fa-solid fa-triangle-exclamation" style="color:#e74c3c;"></i> 運転見合わせ';
                cardMsg.textContent = "現在、事故またはトラブルの影響により、全線で運転を見合わせています。振替輸送については駅係員にお尋ねください。";
            } else if (cleanStatus === 'delay') {
                statusBar.classList.add('status-delay');
                statusText.textContent = "遅延中";
                statusIcon.className = "fa-solid fa-clock";
                statusCard.classList.add('card-delay');
                cardTitle.innerHTML = '<i class="fa-solid fa-clock" style="color:#f39c12;"></i> 遅れが発生しています';
                cardMsg.textContent = "一部区間において、5分〜15分程度の遅れが発生しています。ご利用のお客様にはご迷惑をおかけいたします。";
            } else if (cleanStatus === 'disorder') {
                statusBar.classList.add('status-disorder');
                statusText.textContent = "ダイヤ乱れ";
                statusIcon.className = "fa-solid fa-shuffle";
                statusCard.classList.add('card-disorder');
                cardTitle.innerHTML = '<i class="fa-solid fa-shuffle" style="color:#8e44ad;"></i> ダイヤが乱れています';
                cardMsg.textContent = "現在、大幅なダイヤ乱れが発生しています。行き先変更や運休が発生する可能性がありますのでご注意ください。";
            } else if (cleanStatus === 'stopped') {
                // 【修正箇所】
                statusBar.classList.add('status-stopped');
                statusText.textContent = "運行していません";
                statusIcon.className = "fa-solid fa-minus-circle";
                statusCard.classList.add('card-stopped');
                cardTitle.innerHTML = '<i class="fa-solid fa-minus-circle" style="color:#7f8c8d;"></i> 営業時間外';
                cardMsg.textContent = "現在の時間は運行しておりません。運行時刻をご確認ください。";
            } else {
                statusBar.classList.add('status-normal');
                statusText.textContent = "運行中";
                statusIcon.className = "fa-solid fa-circle-check";
                statusCard.classList.add('card-normal');
                cardTitle.innerHTML = '<i class="fa-solid fa-circle-check" style="color:#27ae60;"></i> 平常通り運転中';
                cardMsg.textContent = "現在、各線とも平常通り運転しています。";
            }
        }
        
        window.addEventListener('load', fetchTrainStatus);


        // ==========================================
        //  B. トップへ戻る & リロードボタン
        // ==========================================
        const backToTopBtn = document.getElementById("back-to-top");
        window.addEventListener("scroll", () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.add("show");
            } else {
                backToTopBtn.classList.remove("show");
            }
        });
        backToTopBtn.addEventListener("click", (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: "smooth" });
        });

        const detailBtn = document.getElementById("detail-btn");
        detailBtn.addEventListener("click", (e) => {
            e.preventDefault();
            fetchTrainStatus();
            alert("最新の情報を確認しました");
        });


        // ==========================================
        //  C. 文字サイズ & メニュー
        // ==========================================
        const htmlElement = document.documentElement;
        const btnSmall = document.getElementById('btn-small');
        const btnMedium = document.getElementById('btn-medium');
        const btnLarge = document.getElementById('btn-large');

        function setFontSize(size) {
            htmlElement.classList.remove('font-small', 'font-large');
            btnSmall.classList.remove('active');
            btnMedium.classList.remove('active');
            btnLarge.classList.remove('active');
            if (size === 'small') { htmlElement.classList.add('font-small'); btnSmall.classList.add('active'); }
            else if (size === 'large') { htmlElement.classList.add('font-large'); btnLarge.classList.add('active'); }
            else { btnMedium.classList.add('active'); }
            try { localStorage.setItem('userFontSize', size); } catch (e) {}
        }
        try {
            const savedSize = localStorage.getItem('userFontSize');
            if (savedSize) setFontSize(savedSize); else setFontSize('medium');
        } catch(e) { setFontSize('medium'); }

        const hamburger = document.querySelector(".hamburger");
        const navMenu = document.querySelector(".nav-menu");
        hamburger.addEventListener("click", () => {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });
        document.querySelectorAll(".nav-link:not(.dropdown > a)").forEach(n => n.addEventListener("click", () => {
            hamburger.classList.remove("active");
            navMenu.classList.remove("active");
        }));
    </script>
</body>
</html>
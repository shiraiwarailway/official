<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™½å²©é›»é‰„ - é‹è¡ŒçŠ¶æ³</title>
    
    <link rel="icon" href="group.jpg">
    <meta name="theme-color" content="#2c3e50">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIueZveWyljpbumXpkYUiLAogICJzaG9ydF9uYW1lIjogIueZveWyljpbumXpkYUiLAogICJzdGFydF91cmwiOiAiaW5kZXguaHRtbCIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2ZmZmZmZiIsCiAgInRoZW1lX2NvbG9yIjogIiMyYzNlNTAiLAogICJpY29ucyI6IFt7CiAgICAic3JjIjogImdyb3VwLmpwZyIsCiAgICAic2l6ZXMiOiAiMTkyeDE5MiIsCiAgICAidHlwZSI6ICJpbWFnZS9qcGVnIgogIH1dCn0=">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* =========================================
           CSSè¨­å®š (ãƒ‡ã‚¶ã‚¤ãƒ³å…¨èˆ¬)
           ========================================= */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        html { font-size: 100%; transition: font-size 0.3s; scroll-behavior: smooth; }
        html.font-small { font-size: 85%; }
        html.font-large { font-size: 125%; }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.6;
            color: #333;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-top: 130px; 
        }

        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        /* --- 1. é‹è¡ŒçŠ¶æ³ãƒãƒ¼ --- */
        #status-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 40px;
            z-index: 1100; display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: #fff; transition: background-color 0.3s;
            padding: 0 20px; font-size: 0.9rem;
        }
        .status-loading { background-color: #95a5a6; }
        .status-normal   { background-color: #27ae60; }
        .status-delay    { background-color: #f39c12; }
        .status-disorder { background-color: #8e44ad; }
        .status-alert    { background-color: #e74c3c; animation: flash 2s infinite; }
        .status-stopped  { background-color: #7f8c8d; }

        @keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }

        /* --- 2. ãƒ˜ãƒƒãƒ€ãƒ¼ & ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ --- */
        .header {
            background-color: #ffffff; height: 90px; 
            position: fixed; top: 40px; left: 0; width: 100%;
            z-index: 1000; display: flex; align-items: center; justify-content: space-between;
            padding: 0 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .brand-wrapper { display: flex; align-items: center; flex-shrink: 0; }
        .logo-img { width: 70px; height: 70px; object-fit: cover; border-radius: 6px; margin-right: 15px; background-color: #eee; }
        .brand-text { display: flex; flex-direction: column; justify-content: center; line-height: 1.2; }
        .group-name { font-size: 0.75rem; color: #888; margin-bottom: 3px; }
        .company-name { font-size: 1.25rem; font-weight: bold; color: #2c3e50; }

        .header-right { display: flex; align-items: center; gap: 20px; }

        .font-control-panel { display: flex; align-items: center; background-color: #f0f2f5; padding: 3px; border-radius: 20px; border: 1px solid #ddd; }
        .font-label { font-size: 0.75rem; color: #666; margin: 0 8px; font-weight: bold; }
        .font-btn { background: none; border: none; padding: 5px 10px; font-size: 0.85rem; cursor: pointer; border-radius: 15px; color: #555; }
        .font-btn.active { background-color: #3498db; color: #fff; font-weight: bold; }

        .nav-menu { display: flex; align-items: center; }
        .nav-item { margin-left: 15px; position: relative; }
        .nav-link { font-size: 0.95rem; font-weight: 600; color: #444; padding: 10px 5px; display: block; }
        .nav-link:hover { color: #3498db; }

        .dropdown-menu {
            position: absolute; top: 100%; left: -10px; background-color: #fff;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); min-width: 200px; border-radius: 8px;
            z-index: 1000; padding: 10px 0; opacity: 0; visibility: hidden;
            transform: translateY(15px); transition: all 0.3s;
        }
        .nav-item.dropdown:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .dropdown-item a { display: block; padding: 12px 20px; font-size: 0.9rem; color: #555; }
        .dropdown-item a:hover { background-color: #f8f9fa; color: #3498db; }

        .hamburger { display: none; cursor: pointer; z-index: 1001; }
        .bar { display: block; width: 25px; height: 2px; margin: 6px auto; background-color: #333; transition: all 0.3s; }

        /* --- 3. ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --- */
        .main-content { flex: 1; padding: 40px 20px; max-width: 1000px; margin: 0 auto; width: 100%; }
        .hero { background-color: #f4f6f7; padding: 100px 20px; text-align: center; border-radius: 12px; margin-bottom: 60px; }

        /* --- ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
        .notification-control {
            margin-top: 30px;
            display: flex; flex-direction: column; align-items: center; gap: 10px;
            background-color: #fff; padding: 20px; border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: inline-block; /* ä¸­å¤®å¯„ã›ç”¨ */
        }
        
        .switch-container {
            display: flex; align-items: center; gap: 15px;
        }

        /* ã‚¹ã‚¤ãƒƒãƒæœ¬ä½“ */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        
        /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼éƒ¨åˆ† */
        .slider {
            position: absolute; cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute; content: "";
            height: 26px; width: 26px;
            left: 4px; bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        /* ONã®çŠ¶æ…‹ */
        input:checked + .slider { background-color: #27ae60; }
        input:checked + .slider:before { transform: translateX(26px); }

        .toggle-label { font-weight: bold; font-size: 1.1rem; color: #555; }
        .toggle-status { font-size: 0.9rem; color: #888; }


        /* ä¼šç¤¾æ¦‚è¦ */
        .company-profile { background-color: #fff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); padding: 40px; margin-bottom: 60px; }
        .profile-title { font-size: 1.5rem; margin-bottom: 20px; border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; color: #2c3e50; }
        .profile-warning { background-color: #fff3cd; color: #856404; padding: 15px; border-radius: 6px; margin-bottom: 25px; font-weight: bold; display: flex; align-items: center; gap: 10px; }
        .profile-table { width: 100%; border-collapse: collapse; }
        .profile-table th, .profile-table td { text-align: left; padding: 15px 10px; border-bottom: 1px solid #eee; }
        .profile-table th { width: 140px; color: #666; font-weight: normal; background-color: #fafafa; }
        .profile-table td { font-weight: 500; word-break: break-all; }
        .profile-link { color: #3498db; text-decoration: underline; }

        /* --- 4. ãƒ•ãƒƒã‚¿ãƒ¼ --- */
        .footer { background-color: #2c3e50; color: #fff; padding: 50px 20px 20px; margin-top: auto; }
        .footer-container { max-width: 1000px; margin: 0 auto; display: flex; justify-content: center; flex-wrap: wrap; gap: 60px; }
        .footer-section h3 { font-size: 1.125rem; margin-bottom: 20px; position: relative; padding-bottom: 10px; }
        .footer-section h3::after { content: ''; position: absolute; left: 0; bottom: 0; width: 40px; height: 2px; background-color: #3498db; }
        .footer-links li { margin-bottom: 12px; }
        .footer-links a { color: #bdc3c7; transition: color 0.3s; }
        .footer-bottom { text-align: center; margin-top: 50px; padding-top: 20px; border-top: 1px solid #3e5871; font-size: 0.75rem; color: #8fa0b3; display: flex; flex-direction: column; gap: 8px; }
        .creator-credit { color: #666; font-size: 0.7rem; margin-top: 5px; opacity: 0.7; }

        /* --- 5. å›ºå®šãƒœã‚¿ãƒ³ --- */
        #back-to-top { position: fixed; bottom: 30px; right: 30px; background-color: #3498db; color: #fff; width: 50px; height: 50px; border-radius: 50%; text-align: center; line-height: 50px; font-size: 1.2rem; z-index: 1500; opacity: 0; visibility: hidden; transition: all 0.3s; }
        #back-to-top.show { opacity: 1; visibility: visible; }
        #detail-btn { position: fixed; bottom: 30px; left: 30px; background-color: #2c3e50; color: #fff; padding: 0 20px; height: 50px; display: flex; align-items: center; justify-content: center; gap: 10px; border-radius: 25px; z-index: 1500; font-weight: bold; font-size: 0.95rem; }

        /* --- 6. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– --- */
        @media (max-width: 1050px) {
            .header { padding: 0 15px; height: 70px; top: 40px; }
            body { padding-top: 110px; }
            .header-right { gap: 10px; }
            .font-label, .font-control-panel { display: none; }
            .hamburger { display: block; }
            .logo-img { width: 55px; height: 55px; margin-right: 10px; }
            .company-name { font-size: 1rem; }
            .nav-menu { position: fixed; left: 0; top: 110px; background-color: #fff; width: 100%; height: 0; overflow-y: auto; flex-direction: column; align-items: center; transition: height 0.4s; z-index: 998; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
            .nav-menu.active { height: calc(100vh - 110px); padding-top: 20px; padding-bottom: 100px; }
            .nav-item { margin: 0; width: 100%; text-align: center; }
            .nav-link { padding: 15px; border-bottom: 1px solid #f0f0f0; }
            .dropdown-menu { position: static; display: none; width: 100%; opacity: 1; visibility: visible; transform: none; box-shadow: none; background-color: #fafafa; }
            .nav-item.dropdown:hover .dropdown-menu { display: block; }
            .hamburger.active .bar:nth-child(2) { opacity: 0; }
            .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
            .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
            .footer-container { flex-direction: column; gap: 30px; }
            .profile-table th, .profile-table td { display: block; width: 100%; border: none; }
            .profile-table th { background-color: transparent; padding-bottom: 5px; font-size: 0.85rem; }
        }
    </style>
</head>
<body>

    <div id="status-bar" class="status-loading">
        <i class="fa-solid fa-spinner fa-spin" style="margin-right: 8px;"></i>
        <span id="status-text">æƒ…å ±ã‚’å–å¾—ä¸­...</span>
    </div>

    <header class="header">
        <a href="#" class="brand-wrapper">
            <img src="group.jpg" alt="ç™½å²©é›»é‰„ãƒ­ã‚´" class="logo-img">
            <div class="brand-text">
                <span class="group-name">ç™½é›»ã‚°ãƒ«ãƒ¼ãƒ—</span>
                <span class="company-name">ç™½å²©é›»é‰„</span>
            </div>
        </a>

        <div class="header-right">
            <div class="hamburger">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="#" class="nav-link">ãƒ›ãƒ¼ãƒ </a></li>
                    <li class="nav-item"><a href="#" class="nav-link">ãƒ‹ãƒ¥ãƒ¼ã‚¹</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">è·¯ç·šå›³</a></li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link">ã‚µãƒ¼ãƒ“ã‚¹ <i class="fa-solid fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item"><a href="#">Webã‚µã‚¤ãƒˆåˆ¶ä½œ</a></li>
                            <li class="dropdown-item"><a href="#">ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º</a></li>
                            <li class="dropdown-item"><a href="#">ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ”¯æ´</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a href="#company-profile" class="nav-link">ä¼šç¤¾æ¦‚è¦</a></li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link">æ±‚äºº <i class="fa-solid fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item"><a href="#">é‹è»¢æ‰‹</a></li>
                            <li class="dropdown-item"><a href="#">ç¤¾å“¡</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a href="#" class="nav-link">ãŠå•ã„åˆã‚ã›</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <section class="hero">
            <h1>5ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é‹è¡ŒçŠ¶æ³ã‚·ã‚¹ãƒ†ãƒ </h1>
            <div style="background: #fff; display: inline-block; padding: 20px; border-radius: 8px; margin-top: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: left;">
                <p><strong>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®A1ã‚»ãƒ«ã«å…¥åŠ›ã™ã‚‹æ–‡å­—:</strong></p>
                <ul style="list-style: none; margin-top: 10px;">
                    <li style="margin-bottom: 8px;">ğŸŸ¢ <code>normal</code> ï¼š é‹è¡Œä¸­</li>
                    <li style="margin-bottom: 8px;">ğŸŸ  <code>delay</code> ï¼š é…å»¶ä¸­</li>
                    <li style="margin-bottom: 8px;">ğŸŸ£ <code>disorder</code> ï¼š ãƒ€ã‚¤ãƒ¤ä¹±ã‚Œï¼ˆç´«ï¼‰</li>
                    <li style="margin-bottom: 8px;">ğŸ”´ <code>alert</code> ï¼š é‹è»¢è¦‹åˆã‚ã›ï¼ˆç‚¹æ»…ï¼‰</li>
                    <li style="margin-bottom: 8px;">âš«ï¸ <code>stopped</code> ï¼š é‹è¡Œã—ã¦ã„ã¾ã›ã‚“</li>
                </ul>
            </div>
            <br>
            
            <div class="notification-control">
                <div class="switch-container">
                    <span class="toggle-label">é‹è¡Œé–‹å§‹é€šçŸ¥</span>
                    <label class="switch">
                        <input type="checkbox" id="notify-toggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <p class="toggle-status" id="toggle-status-text">OFF</p>
            </div>
            
            <p style="font-size:0.8rem; color:#888; margin-top:10px;">
                â€»ONã«ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã‚’é–‰ã˜ã¦ã„ã¦ã‚‚é‹è¡Œé–‹å§‹æ™‚ã«é€šçŸ¥ãŒå±Šãã¾ã™ã€‚
            </p>
        </section>

        <section id="company-profile" class="company-profile">
            <h2 class="profile-title">ä¼šç¤¾æ¦‚è¦</h2>
            <div class="profile-warning">
                <i class="fa-solid fa-triangle-exclamation"></i>
                <span>â€»ã“ã®é‰„é“ã¯ROBLOXå†…ã§å–¶æ¥­ã—ã¦ã„ã¾ã™</span>
            </div>
            <table class="profile-table">
                <tr><th>ç¤¾é•·</th><td>kaimon (@MO600_tanigumi)</td></tr>
                <tr><th>ãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒªãƒ³ã‚¯</th><td><a href="https://www.roblox.com/share?code=a41bc6231f00714b9afd915dc30324fd&type=ExperienceDetails&stamp=1771431125637" target="_blank" class="profile-link">Robloxã§é–‹ã</a></td></tr>
                <tr><th>ã‚°ãƒ«ãƒ¼ãƒ—ãƒªãƒ³ã‚¯</th><td><a href="https://www.roblox.com/share/g/441094248" target="_blank" class="profile-link">ã‚°ãƒ«ãƒ¼ãƒ—ã«å‚åŠ </a></td></tr>
                <tr><th>ã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆ(LINE)</th><td><a href="https://line.me/ti/g2/G40QSrZXyYBYFPxyRzQahAT9d_nFbxfEzZeyzw?utm_source=invitation&utm_medium=link_copy&utm_campaign=default" target="_blank" class="profile-link">LINEã«å‚åŠ </a></td></tr>
            </table>
        </section>
        
        <section style="height: 200px; text-align: center; color: #888;">
            <p>ç”»é¢å·¦ä¸‹ã«ã€Œé‹è¡Œè©³ç´°ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
                <ul class="footer-links">
                    <li><a href="#">ãƒ›ãƒ¼ãƒ </a></li>
                    <li><a href="#">ãƒ‹ãƒ¥ãƒ¼ã‚¹</a></li>
                    <li><a href="#">è·¯ç·šå›³</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>ãã®ä»–</h3>
                <ul class="footer-links">
                    <li><a href="#">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <span>&copy; 2024 Shiraiwa Electric Railway Co., Ltd.</span>
            <span class="creator-credit">ã“ã®HPã¯é‹è»¢æ‰‹ã®takka0727ãŒä½œæˆã—ã¾ã—ãŸ</span>
        </div>
    </footer>

    <a href="unnkou.html" id="detail-btn"><i class="fa-solid fa-circle-info"></i> é‹è¡Œè©³ç´°</a>
    <a href="#" id="back-to-top"><i class="fa-solid fa-arrow-up"></i></a>

    <script>
        const SHEET_API_URL = "https://script.google.com/macros/s/AKfycbwnOtC0MEt216M2c0PpTP9hg0vWux1_NLDlpFn8B9Y792dcMfwIX3Dv-2c9MCcdixHHmQ/exec"; 
        const statusBar = document.getElementById('status-bar');
        const statusText = document.getElementById('status-text');
        const statusIcon = statusBar.querySelector('i');
        
        const notifyToggle = document.getElementById('notify-toggle');
        const toggleStatusText = document.getElementById('toggle-status-text');

        function initToggleState() {
            const savedSetting = localStorage.getItem('shiraiwa_notify_enabled');
            if (savedSetting === 'true' && Notification.permission === 'granted') {
                notifyToggle.checked = true;
                updateToggleText(true);
                registerSW();
            } else {
                notifyToggle.checked = false;
                updateToggleText(false);
            }
        }

        function updateToggleText(isOne) {
            if (isOne) {
                toggleStatusText.textContent = "ç¾åœ¨ONã«ãªã£ã¦ã„ã¾ã™";
                toggleStatusText.style.color = "#27ae60";
            } else {
                toggleStatusText.textContent = "ç¾åœ¨OFFã§ã™";
                toggleStatusText.style.color = "#888";
            }
        }

        notifyToggle.addEventListener('change', async () => {
            if (notifyToggle.checked) {
                if (!("Notification" in window)) {
                    alert("ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯é€šçŸ¥ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚");
                    notifyToggle.checked = false;
                    return;
                }

                const permission = await Notification.requestPermission();
                if (permission === 'granted') {
                    localStorage.setItem('shiraiwa_notify_enabled', 'true');
                    updateToggleText(true);
                    registerSW();
                    
                    new Notification("é€šçŸ¥ON", { body: "è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚é‹è¡Œé–‹å§‹æ™‚ã«é€šçŸ¥ã—ã¾ã™ã€‚" });
                } else {
                    notifyToggle.checked = false;
                    alert("é€šçŸ¥ãŒè¨±å¯ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚");
                }

            } else {
                localStorage.setItem('shiraiwa_notify_enabled', 'false');
                updateToggleText(false);
                unregisterSW();
            }
        });

        function registerSW() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('SW Registered'))
                    .catch(err => console.log('SW Fail', err));
            }
        }

        function unregisterSW() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        registration.unregister();
                    }
                });
                console.log('SW Unregistered');
            }
        }

        window.addEventListener('load', () => {
            initToggleState();
            fetchTrainStatus();
        });

        async function fetchTrainStatus() {
            try {
                const response = await fetch(SHEET_API_URL);
                if (!response.ok) throw new Error("NetWork Error");
                const data = await response.json(); 
                updateStatusDisplay(data.status);
            } catch (error) {
                console.error("Fetch Error:", error);
                statusText.textContent = "å–å¾—å¤±æ•—";
                statusIcon.className = "fa-solid fa-circle-exclamation";
            }
        }

        function updateStatusDisplay(statusValue) {
            statusBar.className = '';
            const cleanStatus = statusValue ? String(statusValue).trim() : "";
            if (cleanStatus === 'alert') {
                statusBar.classList.add('status-alert'); statusText.textContent = "é‹è»¢è¦‹åˆã‚ã›"; statusIcon.className = "fa-solid fa-triangle-exclamation";
            } else if (cleanStatus === 'delay') {
                statusBar.classList.add('status-delay'); statusText.textContent = "é…å»¶ä¸­"; statusIcon.className = "fa-solid fa-clock";
            } else if (cleanStatus === 'disorder') {
                statusBar.classList.add('status-disorder'); statusText.textContent = "ãƒ€ã‚¤ãƒ¤ä¹±ã‚Œ"; statusIcon.className = "fa-solid fa-shuffle";
            } else if (cleanStatus === 'stopped') {
                statusBar.classList.add('status-stopped'); statusText.textContent = "é‹è¡Œã—ã¦ã„ã¾ã›ã‚“"; statusIcon.className = "fa-solid fa-minus-circle";
            } else {
                statusBar.classList.add('status-normal'); statusText.textContent = "é‹è¡Œä¸­"; statusIcon.className = "fa-solid fa-circle-check";
            }
        }
        
        // 20ç§’ã”ã¨ã«æ›´æ–° (20000ãƒŸãƒªç§’)
        setInterval(fetchTrainStatus, 20000); 

        const backToTopBtn = document.getElementById("back-to-top");
        window.addEventListener("scroll", () => {
            if (window.scrollY > 300) backToTopBtn.classList.add("show");
            else backToTopBtn.classList.remove("show");
        });
        backToTopBtn.addEventListener("click", (e) => { e.preventDefault(); window.scrollTo({ top: 0, behavior: "smooth" }); });

        const hamburger = document.querySelector(".hamburger");
        const navMenu = document.querySelector(".nav-menu");
        hamburger.addEventListener("click", () => {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });
    </script>
</body>
</html>
